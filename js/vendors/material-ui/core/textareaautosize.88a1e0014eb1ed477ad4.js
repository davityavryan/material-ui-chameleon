(self.webpackChunkmaterial_ui_chameleon_docs=self.webpackChunkmaterial_ui_chameleon_docs||[]).push([[7516],{19712:(Q,D,i)=>{"use strict";i.d(D,{Z:()=>z});var f=i(85399),A=i(65917),e=i(2366),H=i(83668),L=i(54950);function s(E,t){return parseInt(E[t],10)||0}var S=typeof window!="undefined"?e.useLayoutEffect:e.useEffect,T={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},Z=e.forwardRef(function(t,I){var R=t.onChange,W=t.rows,B=t.rowsMax,K=t.rowsMin,U=t.maxRows,g=t.minRows,N=g===void 0?1:g,b=t.style,h=t.value,F=(0,A.Z)(t,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),v=U||B,u=W||K||N,$=e.useRef(h!=null),k=$.current,M=e.useRef(null),j=(0,L.Z)(I,M),x=e.useRef(null),l=e.useRef(0),y=e.useState({}),C=y[0],V=y[1],d=e.useCallback(function(){var n=M.current,a=window.getComputedStyle(n),o=x.current;o.style.width=a.width,o.value=n.value||t.placeholder||"x",o.value.slice(-1)===`
`&&(o.value+=" ");var G=a["box-sizing"],c=s(a,"padding-bottom")+s(a,"padding-top"),J=s(a,"border-bottom-width")+s(a,"border-top-width"),P=o.scrollHeight-c;o.value="x";var _=o.scrollHeight-c,r=P;u&&(r=Math.max(Number(u)*_,r)),v&&(r=Math.min(Number(v)*_,r)),r=Math.max(r,_);var w=r+(G==="border-box"?c+J:0),O=Math.abs(r-P)<=1;V(function(m){return l.current<20&&(w>0&&Math.abs((m.outerHeightStyle||0)-w)>1||m.overflow!==O)?(l.current+=1,{overflow:O,outerHeightStyle:w}):m})},[v,u,t.placeholder]);e.useEffect(function(){var n=(0,H.Z)(function(){l.current=0,d()});return window.addEventListener("resize",n),function(){n.clear(),window.removeEventListener("resize",n)}},[d]),S(function(){d()}),e.useEffect(function(){l.current=0},[h]);var X=function(a){l.current=0,k||d(),R&&R(a)};return e.createElement(e.Fragment,null,e.createElement("textarea",(0,f.Z)({value:h,onChange:X,ref:j,rows:u,style:(0,f.Z)({height:C.outerHeightStyle,overflow:C.overflow?"hidden":null},b)},F)),e.createElement("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:x,tabIndex:-1,style:(0,f.Z)({},T.shadow,b)}))});const z=Z}}]);

//# sourceMappingURL=textareaautosize.88a1e0014eb1ed477ad4.js.map