(self.webpackChunkmaterial_ui_chameleon_docs=self.webpackChunkmaterial_ui_chameleon_docs||[]).push([[7516],{19712:($,H,o)=>{"use strict";o.d(H,{Z:()=>I});var d=o(85399),R=o(65917),e=o(2366),S=o(83668),N=o(54950);function s(t,f){return parseInt(t[f],10)||0}var z=typeof window!="undefined"?e.useLayoutEffect:e.useEffect,L={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},F=e.forwardRef(function(t,f){var p=t.onChange,O=t.rows,h=t.rowsMax,y=t.rowsMin,j=y===void 0?1:y,x=t.style,w=t.value,A=(0,R.Z)(t,["onChange","rows","rowsMax","rowsMin","style","value"]),i=O||j,B=e.useRef(w!=null),K=B.current,M=e.useRef(null),P=(0,N.Z)(f,M),Z=e.useRef(null),u=e.useRef(0),C=e.useState({}),E=C[0],T=C[1],c=e.useCallback(function(){var r=M.current,l=window.getComputedStyle(r),a=Z.current;a.style.width=l.width,a.value=r.value||t.placeholder||"x",a.value.slice(-1)===`
`&&(a.value+=" ");var V=l["box-sizing"],v=s(l,"padding-bottom")+s(l,"padding-top"),W=s(l,"border-bottom-width")+s(l,"border-top-width"),_=a.scrollHeight-v;a.value="x";var m=a.scrollHeight-v,n=_;i&&(n=Math.max(Number(i)*m,n)),h&&(n=Math.min(Number(h)*m,n)),n=Math.max(n,m);var b=n+(V==="border-box"?v+W:0),k=Math.abs(n-_)<=1;T(function(g){return u.current<20&&(b>0&&Math.abs((g.outerHeightStyle||0)-b)>1||g.overflow!==k)?(u.current+=1,{overflow:k,outerHeightStyle:b}):g})},[h,i,t.placeholder]);e.useEffect(function(){var r=(0,S.Z)(function(){u.current=0,c()});return window.addEventListener("resize",r),function(){r.clear(),window.removeEventListener("resize",r)}},[c]),z(function(){c()}),e.useEffect(function(){u.current=0},[w]);var U=function(r){u.current=0,K||c(),p&&p(r)};return e.createElement(e.Fragment,null,e.createElement("textarea",(0,d.Z)({value:w,onChange:U,ref:P,rows:i,style:(0,d.Z)({height:E.outerHeightStyle,overflow:E.overflow?"hidden":null},x)},A)),e.createElement("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:Z,tabIndex:-1,style:(0,d.Z)({},L.shadow,x)}))});const I=F}}]);
