(self.webpackChunkmaterial_ui_chameleon_docs=self.webpackChunkmaterial_ui_chameleon_docs||[]).push([[7639],{6176:(Bt,nt,I)=>{"use strict";I.d(nt,{D:()=>me,Z:()=>lt});var rt=I(85399),oe=I(34910),g=I(2366),at=I(55713),ie=I(49747),k=I(3517),ot=I(16092);function _e(r){return typeof r.normalize!="undefined"?r.normalize("NFD").replace(/[\u0300-\u036f]/g,""):r}function me(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=r.ignoreAccents,h=P===void 0?!0:P,T=r.ignoreCase,z=T===void 0?!0:T,w=r.limit,L=r.matchFrom,j=L===void 0?"any":L,M=r.stringify,F=r.trim,ue=F===void 0?!1:F;return function(G,J){var R=J.inputValue,H=J.getOptionLabel,O=ue?R.trim():R;z&&(O=O.toLowerCase()),h&&(O=_e(O));var Q=G.filter(function(X){var D=(M||H)(X);return z&&(D=D.toLowerCase()),h&&(D=_e(D)),j==="start"?D.indexOf(O)===0:D.indexOf(O)>-1});return typeof w=="number"?Q.slice(0,w):Q}}function le(r,P){for(var h=0;h<r.length;h+=1)if(P(r[h]))return h;return-1}var it=me(),Oe=5;function lt(r){var P=r.autoComplete,h=P===void 0?!1:P,T=r.autoHighlight,z=T===void 0?!1:T,w=r.autoSelect,L=w===void 0?!1:w,j=r.blurOnSelect,M=j===void 0?!1:j,F=r.clearOnBlur,ue=F===void 0?!r.freeSolo:F,G=r.clearOnEscape,J=G===void 0?!1:G,R=r.componentName,H=R===void 0?"useAutocomplete":R,O=r.debug,Q=O===void 0?!1:O,X=r.defaultValue,D=X===void 0?r.multiple?[]:null:X,xe=r.disableClearable,ut=xe===void 0?!1:xe,Ce=r.disableCloseOnSelect,st=Ce===void 0?!1:Ce,Ie=r.disabledItemsFocusable,ft=Ie===void 0?!1:Ie,De=r.disableListWrap,Pe=De===void 0?!1:De,Se=r.filterOptions,ct=Se===void 0?it:Se,Ee=r.filterSelectedOptions,se=Ee===void 0?!1:Ee,ye=r.freeSolo,fe=ye===void 0?!1:ye,Y=r.getOptionDisabled,Ae=r.getOptionLabel,dt=Ae===void 0?function(n){return n}:Ae,$e=r.getOptionSelected,V=$e===void 0?function(n,t){return n===t}:$e,q=r.groupBy,ke=r.handleHomeEndKeys,Te=ke===void 0?!r.freeSolo:ke,pt=r.id,we=r.includeInputInList,Le=we===void 0?!1:we,gt=r.inputValue,Me=r.multiple,u=Me===void 0?!1:Me,Fe=r.onChange,Re=r.onClose,He=r.onHighlightChange,y=r.onInputChange,Ve=r.onOpen,vt=r.open,Be=r.openOnFocus,ht=Be===void 0?!1:Be,bt=r.options,Ke=r.selectOnFocus,_t=Ke===void 0?!r.freeSolo:Ke,mt=r.value,b=(0,at.Z)(pt),ee=dt,ce=g.useRef(!1),de=g.useRef(!0),s=g.useRef(null),_=g.useRef(null),Ze=g.useState(null),pe=Ze[0],Ot=Ze[1],Ne=g.useState(-1),x=Ne[0],ge=Ne[1],We=z?0:-1,m=g.useRef(We),xt=(0,ie.Z)({controlled:mt,default:D,name:H}),Ue=(0,oe.Z)(xt,2),o=Ue[0],Ct=Ue[1],It=(0,ie.Z)({controlled:gt,default:"",name:H,state:"inputValue"}),ze=(0,oe.Z)(It,2),l=ze[0],ve=ze[1],je=g.useState(!1),Dt=je[0],Ge=je[1],te=(0,k.Z)(function(n,t){var e;if(u)e="";else if(t==null)e="";else{var a=ee(t);e=typeof a=="string"?a:""}l!==e&&(ve(e),y&&y(n,e,"reset"))});g.useEffect(function(){te(null,o)},[o,te]);var Pt=(0,ie.Z)({controlled:vt,default:!1,name:H,state:"open"}),Je=(0,oe.Z)(Pt,2),B=Je[0],Qe=Je[1],Xe=!u&&o!=null&&l===ee(o),c=B,f=c?ct(bt.filter(function(n){return!(se&&(u?o:[o]).some(function(t){return t!==null&&V(n,t)}))}),{inputValue:Xe?"":l,getOptionLabel:ee}):[];if(!1)var Kt;var ne=(0,k.Z)(function(n){n===-1?s.current.focus():pe.querySelector('[data-tag-index="'.concat(n,'"]')).focus()});g.useEffect(function(){u&&x>o.length-1&&(ge(-1),ne(-1))},[o,u,x,ne]);function St(n,t){if(!_.current||n===-1)return-1;for(var e=n;;){if(t==="next"&&e===f.length||t==="previous"&&e===-1)return-1;var a=_.current.querySelector('[data-option-index="'.concat(e,'"]')),d=ft?!1:a&&(a.disabled||a.getAttribute("aria-disabled")==="true");if(a&&!a.hasAttribute("tabindex")||d)e+=t==="next"?1:-1;else return e}}var A=(0,k.Z)(function(n){var t=n.event,e=n.index,a=n.reason,d=a===void 0?"auto":a;if(m.current=e,e===-1?s.current.removeAttribute("aria-activedescendant"):s.current.setAttribute("aria-activedescendant","".concat(b,"-option-").concat(e)),He&&He(t,e===-1?null:f[e],d),!!_.current){var p=_.current.querySelector("[data-focus]");p&&p.removeAttribute("data-focus");var i=_.current.parentElement.querySelector('[role="listbox"]');if(!!i){if(e===-1){i.scrollTop=0;return}var $=_.current.querySelector('[data-option-index="'.concat(e,'"]'));if(!!$&&($.setAttribute("data-focus","true"),i.scrollHeight>i.clientHeight&&d!=="mouse")){var v=$,E=i.clientHeight+i.scrollTop,ae=v.offsetTop+v.offsetHeight;ae>E?i.scrollTop=ae-i.clientHeight:v.offsetTop-v.offsetHeight*(q?1.3:0)<i.scrollTop&&(i.scrollTop=v.offsetTop-v.offsetHeight*(q?1.3:0))}}}}),C=(0,k.Z)(function(n){var t=n.event,e=n.diff,a=n.direction,d=a===void 0?"next":a,p=n.reason,i=p===void 0?"auto":p;if(!!c){var $=function(){var W=f.length-1;if(e==="reset")return We;if(e==="start")return 0;if(e==="end")return W;var U=m.current+e;return U<0?U===-1&&Le?-1:Pe&&m.current!==-1||Math.abs(e)>1?0:W:U>W?U===W+1&&Le?-1:Pe||Math.abs(e)>1?W:0:U},v=St($(),d);if(A({index:v,reason:i,event:t}),h&&e!=="reset")if(v===-1)s.current.value=l;else{var E=ee(f[v]);s.current.value=E;var ae=E.toLowerCase().indexOf(l.toLowerCase());ae===0&&l.length>0&&s.current.setSelectionRange(l.length,E.length)}}}),he=g.useCallback(function(){if(!!c){var n=u?o[0]:o;if(f.length===0||n==null){C({diff:"reset"});return}if(!!_.current){if(!se&&n!=null){var t=f[m.current];if(u&&t&&le(o,function(a){return V(t,a)})!==-1)return;var e=le(f,function(a){return V(a,n)});e===-1?C({diff:"reset"}):A({index:e});return}if(m.current>=f.length-1){A({index:f.length-1});return}A({index:m.current})}}},[f.length===0,u?!1:o,se,C,A,c,l,u]),Et=(0,k.Z)(function(n){(0,ot.Z)(_,n),!!n&&he()});g.useEffect(function(){he()},[he]);var S=function(t){B||(Qe(!0),Ve&&Ve(t))},K=function(t,e){!B||(Qe(!1),Re&&Re(t,e))},Z=function(t,e,a,d){o!==e&&(Fe&&Fe(t,e,a,d),Ct(e))},re=g.useRef(!1),N=function(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"select-option",d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"options",p=a,i=e;if(u){if(i=Array.isArray(o)?o.slice():[],!1)var $;var v=le(i,function(E){return V(e,E)});v===-1?i.push(e):d!=="freeSolo"&&(i.splice(v,1),p="remove-option")}te(t,i),Z(t,i,p,{option:e}),st||K(t,p),(M===!0||M==="touch"&&re.current||M==="mouse"&&!re.current)&&s.current.blur()};function yt(n,t){if(n===-1)return-1;for(var e=n;;){if(t==="next"&&e===o.length||t==="previous"&&e===-1)return-1;var a=pe.querySelector('[data-tag-index="'.concat(e,'"]'));if(a&&(!a.hasAttribute("tabindex")||a.disabled||a.getAttribute("aria-disabled")==="true"))e+=t==="next"?1:-1;else return e}}var Ye=function(t,e){if(!!u){K(t,"toggleInput");var a=x;x===-1?l===""&&e==="previous"&&(a=o.length-1):(a+=e==="next"?1:-1,a<0&&(a=0),a===o.length&&(a=-1)),a=yt(a,e),ge(a),ne(a)}},qe=function(t){ce.current=!0,ve(""),y&&y(t,"","clear"),Z(t,u?[]:null,"clear")},At=function(t){return function(e){switch(x!==-1&&["ArrowLeft","ArrowRight"].indexOf(e.key)===-1&&(ge(-1),ne(-1)),e.key){case"Home":c&&Te&&(e.preventDefault(),C({diff:"start",direction:"next",reason:"keyboard",event:e}));break;case"End":c&&Te&&(e.preventDefault(),C({diff:"end",direction:"previous",reason:"keyboard",event:e}));break;case"PageUp":e.preventDefault(),C({diff:-Oe,direction:"previous",reason:"keyboard",event:e}),S(e);break;case"PageDown":e.preventDefault(),C({diff:Oe,direction:"next",reason:"keyboard",event:e}),S(e);break;case"ArrowDown":e.preventDefault(),C({diff:1,direction:"next",reason:"keyboard",event:e}),S(e);break;case"ArrowUp":e.preventDefault(),C({diff:-1,direction:"previous",reason:"keyboard",event:e}),S(e);break;case"ArrowLeft":Ye(e,"previous");break;case"ArrowRight":Ye(e,"next");break;case"Enter":if(e.which===229)break;if(m.current!==-1&&c){var a=f[m.current],d=Y?Y(a):!1;if(e.preventDefault(),d)return;N(e,a,"select-option"),h&&s.current.setSelectionRange(s.current.value.length,s.current.value.length)}else fe&&l!==""&&Xe===!1&&(u&&e.preventDefault(),N(e,l,"create-option","freeSolo"));break;case"Escape":c?(e.preventDefault(),e.stopPropagation(),K(e,"escape")):J&&(l!==""||u&&o.length>0)&&(e.preventDefault(),e.stopPropagation(),qe(e));break;case"Backspace":if(u&&l===""&&o.length>0){var p=x===-1?o.length-1:x,i=o.slice();i.splice(p,1),Z(e,i,"remove-option",{option:o[p]})}break;default:}t.onKeyDown&&t.onKeyDown(e)}},$t=function(t){Ge(!0),ht&&!ce.current&&S(t)},kt=function(t){if(_.current!==null&&document.activeElement===_.current.parentElement){s.current.focus();return}Ge(!1),de.current=!0,ce.current=!1,!(Q&&l!=="")&&(L&&m.current!==-1&&c?N(t,f[m.current],"blur"):L&&fe&&l!==""?N(t,l,"blur","freeSolo"):ue&&te(t,o),K(t,"blur"))},Tt=function(t){var e=t.target.value;l!==e&&(ve(e),y&&y(t,e,"input")),e===""?!ut&&!u&&Z(t,null,"clear"):S(t)},wt=function(t){A({event:t,index:Number(t.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},Lt=function(){re.current=!0},Mt=function(t){var e=Number(t.currentTarget.getAttribute("data-option-index"));N(t,f[e],"select-option"),re.current=!1},Ft=function(t){return function(e){var a=o.slice();a.splice(t,1),Z(e,a,"remove-option",{option:o[t]})}},et=function(t){B?K(t,"toggleInput"):S(t)},Rt=function(t){t.target.getAttribute("id")!==b&&t.preventDefault()},Ht=function(){s.current.focus(),_t&&de.current&&s.current.selectionEnd-s.current.selectionStart==0&&s.current.select(),de.current=!1},Vt=function(t){(l===""||!B)&&et(t)},be=fe&&l.length>0;be=be||(u?o.length>0:o!==null);var tt=f;if(q){var Zt=new Map,Nt=!1;tt=f.reduce(function(n,t,e){var a=q(t);return n.length>0&&n[n.length-1].group===a?n[n.length-1].options.push(t):n.push({key:e,index:e,group:a,options:[t]}),n},[])}return{getRootProps:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,rt.Z)({"aria-owns":c?"".concat(b,"-popup"):null,role:"combobox","aria-expanded":c},t,{onKeyDown:At(t),onMouseDown:Rt,onClick:Ht})},getInputLabelProps:function(){return{id:"".concat(b,"-label"),htmlFor:b}},getInputProps:function(){return{id:b,value:l,onBlur:kt,onFocus:$t,onChange:Tt,onMouseDown:Vt,"aria-activedescendant":c?"":null,"aria-autocomplete":h?"both":"list","aria-controls":c?"".concat(b,"-popup"):null,autoComplete:"off",ref:s,autoCapitalize:"none",spellCheck:"false"}},getClearProps:function(){return{tabIndex:-1,onClick:qe}},getPopupIndicatorProps:function(){return{tabIndex:-1,onClick:et}},getTagProps:function(t){var e=t.index;return{key:e,"data-tag-index":e,tabIndex:-1,onDelete:Ft(e)}},getListboxProps:function(){return{role:"listbox",id:"".concat(b,"-popup"),"aria-labelledby":"".concat(b,"-label"),ref:Et,onMouseDown:function(e){e.preventDefault()}}},getOptionProps:function(t){var e=t.index,a=t.option,d=(u?o:[o]).some(function(i){return i!=null&&V(a,i)}),p=Y?Y(a):!1;return{key:e,tabIndex:-1,role:"option",id:"".concat(b,"-option-").concat(e),onMouseOver:wt,onClick:Mt,onTouchStart:Lt,"data-option-index":e,"aria-disabled":p,"aria-selected":d}},id:b,inputValue:l,value:o,dirty:be,popupOpen:c,focused:Dt||x!==-1,anchorEl:pe,setAnchorEl:Ot,focusedTag:x,groupedOptions:tt}}}}]);

//# sourceMappingURL=useautocomplete.ecaba177308ef5637473.js.map